\chapter{Исследовательский раздел}

В данном разделе будут приведены примеры работы программ, постановка эксперимента и сравнительный анализ алгоритмов на основе полученных данных.


\section{Технические характеристики}

Технические характеристики устройства, на котором выполнялись замеры по времени.

\begin{itemize}
	\item Процессор: AMD Ryzen 5 4600H 3 ГГц \cite{amd}.
	\item Оперативная память: 16 ГБайт.
	\item Операционная система: Windows 10 Pro 64-разрядная система версии 22H2 \cite{windows}.
\end{itemize}

При замерах времени ноутбук был включен в сеть электропитания и был нагружен только системными приложениями.


\section{Демонстрация работы программы}

%Тут абзац со ссылкой на рисунок и описанием того, что на нём представлено/происходит
На рисунке \ref{img:program} представлена демонстрация работы разработанного программного обеспечения, а именно показаны результаты вычислений расстояний Левенштейна и Дамерау---Левенштейна для строк <<скат>>, <<кот>> и <<красивый>>, <<карсивый>> соответственно.  
\clearpage

\includeimage
{program} % Имя файла без расширения (файл должен быть расположен в директории inc/img/)
{f} % Обтекание (без обтекания)
{h} % Положение рисунка (см. figure из пакета float)
{1\textwidth} % Ширина рисунка
{Демонстрация работы программы при поиске расстояний Левенштейна и Дамерау---Левенштейна} % Подпись рисунка

\clearpage

\section{Время выполнения реализаций алгоритмов}

Результаты замеров времени выполнения реализаций алгоритмов нахождения расстояний
Левенштейна и Дамерау–Левенштейна приведены в таблице \ref{tbl:time_measurements}.
Замеры времени проводились на строках одинаковой длины и усреднялись для каждого набора одинаковых экспериментов.
В таблице \ref{tbl:time_measurements} используются следующие обозначения: 
\begin{itemize}
	\item Л (и) --- итеративная реализация алгоритма поиска расстояния Левенштейна;
	\item Д-Л (и) --- итеративная реализация алгоритма поиска расстояния Дамерау---Левенштейна;
	\item Д-Л (р) --- рекурсивная реализация алгоритма поиска расстояния Дамерау---Левенштейна;
	\item Д-Л (рк) --- рекурсивная с кешированием реализация алгоритма поиска расстояния Дамерау---Левенштейна.
\end{itemize}

\begin{table}[h]
	\begin{center}
		\begin{threeparttable}
			\captionsetup{justification=raggedright,singlelinecheck=off}
			\caption{Время работы реализации алгоритмов (в мс)}
			\label{tbl:time_measurements}
			\begin{tabular}{|c|c|c|c|c|}
				\hline
				Длина строк &  Л (и)  & Д-Л (и) & Д-Л (р) & Д-Л (рк) \\
				\hline
				1 &$ 3.13* 10^{-6} $&$ 3.13* 10^{-6} $&$ 1.56* 10^{-6} $&$ 6.25* 10^{-6}$\\
				\hline
				2 &$ 6.25* 10^{-6} $&$ 4.69* 10^{-6} $&$ 6.25* 10^{-6} $&$ 1.25* 10^{-5}$\\
				\hline
				3 &$ 9.37* 10^{-6} $&$ 6.25* 10^{-6} $&$ 3.59* 10^{-5} $&$ 2.19* 10^{-5}$\\
				\hline
				4 &$ 1.25* 10^{-5} $&$ 1.25* 10^{-5} $&$ 1.91* 10^{-4} $&$ 3.13* 10^{-5}$\\
				\hline
				5 &$ 1.87* 10^{-5} $&$ 1.87* 10^{-5} $&$ 9.78* 10^{-4} $&$ 4.69* 10^{-5}$\\
				\hline
				6 &$ 2.50* 10^{-5} $&$ 2.50* 10^{-5} $&$ 5.26* 10^{-3} $&$ 6.56* 10^{-5}$\\
				\hline
				7 &$ 3.13* 10^{-5} $&$ 3.13* 10^{-5} $&$ 2.86* 10^{-2} $&$ 8.75* 10^{-5}$\\
				\hline
				8 &$ 4.06* 10^{-5} $&$ 4.37* 10^{-5} $&$ 1.58* 10^{-1} $&$ 1.19* 10^{-4}$\\
				\hline
				9 &$ 5.31* 10^{-5} $&$ 5.62* 10^{-5} $&$ 8.70* 10^{-1} $&$ 1.50* 10^{-4}$\\
				\hline
				10 &$ 5.94* 10^{-5} $&$ 6.56* 10^{-5} $&$ 4.75* 10^{0} $&$ 1.75* 10^{-4}$\\
				\hline
				
				
			\end{tabular}
		\end{threeparttable}
	\end{center}
\end{table}

\includeimage
{Figure11} % Имя файла без расширения (файл должен быть расположен в директории inc/img/)
{f} % Обтекание (без обтекания)
{h} % Положение рисунка (см. figure из пакета float)
{1\textwidth} % Ширина рисунка
{Сравнение алгоритмов по времени} % Подпись рисунка

\includeimage
{Figure12} % Имя файла без расширения (файл должен быть расположен в директории inc/img/)
{f} % Обтекание (без обтекания)
{h} % Положение рисунка (см. figure из пакета float)
{1\textwidth} % Ширина рисунка
{Сравнение итеративных алгоритмов по времени} % Подпись рисунка

\clearpage

Наиболее эффективными по времени являются реализации алгоритмов, использующие матрицы, после них по времени идет реализация алгоритма, использующая кеш, это обусловлено тем, что по сравнению с обычной рекурсией, мы не вычисляем повторно одни и те же значения, но все равно тратим время на рекурсивные вызовы. 

\section{Характеристики по памяти}

\label{memory}

Введем следующие обозначения:
\begin{itemize}
	\item $n$ --- длина строки $S_1$;
	\item $m$ --- длина строки $S_2$;
	\item $size()$ --- функция, вычисляющая размер в байтах;
	\item $int$ --- целочисленный тип данных;
	\item $string$ --- строковый тип данных.
\end{itemize}

Т.~к. алгоритмы, вычисляющие расстояния Левенштейна и Дамерау---Левенштейна, не отличаются по использованию памяти, то достаточно рассмотреть итеративную, рекурсивную и рекурсивную с кешированием реализации алгоритмов вычисления расстояния Дамерау---Левенштейна.


Использование памяти при итеративной реализации теоритически рассчитывется по формуле \eqref{eq:iter_mem}.
\begin{equation}
	\label{eq:iter_mem}
	(n + 1) * (m + 1) * size(int) + 2 * size(string) + 2 * size(int),
\end{equation}
где 
\begin{itemize}
	\item $ (n + 1) * (m + 1) * size(int) $ --- хранение матрицы;
	\item $ 2 * size(string) $ --- хранение двух строк;
	\item $ 2 * size(int) $ --- адрес возврата и возвращаемое значение.
\end{itemize}


Максимальная глубина стека вызовов при рекурсивной реализации нахождения расстояния Дамерау---Левенштейна равна сумме длин входящих строк, соответственно, максимальный расход памяти рассчитывается по \eqref{eq:rec_mem}.

\begin{equation}
	\label{eq:rec_mem}
	(n + m) * (2 * size(string) + 3 * size(int)),
\end{equation}
где 
\begin{itemize}
	\item $ (n + m) $ --- максимальная глубина стека вызовов;
	\item $ 2 * size(string) $ --- хранение двух строк;
	\item $ 2 * size(int) $ --- адрес возврата и возвращаемое значение;
	\item $ size(int) $ --- временная переменная.
\end{itemize}

Для алгоритма, использующего кеширование требуется дополнительно память под кеш и 4 временных переменных \eqref{eq:req_cash_mem}.

\begin{equation}
	\label{eq:req_cash_mem}
	(n + m) * (2 * size(string) + 6 * size(int)) + (n + 1) * (m + 1) * size(int),
\end{equation}
где 
\begin{itemize}
	\item $ (n + m) $ --- максимальная глубина стека вызовов;
	\item $ 2 * size(string) $ --- хранение двух строк;
	\item $ 2 * size(int) $ --- адрес возврата и возвращаемое значение;
	\item $ 4 * size(int) $ --- временные переменные;
	\item $ (n + 1) * (m + 1) * size(int) $ --- хранение кеша.
\end{itemize}

По расходу памяти итеративные реализации алгоритмов проигрывают рекурсивным: максимальный размер используемой памяти в итеративной реализации растет как произведение длин строк, в то время как у рекурсивной --- как сумма длин строк.

\includeimage
{memory} % Имя файла без расширения (файл должен быть расположен в директории inc/img/)
{f} % Обтекание (без обтекания)
{h} % Положение рисунка (см. figure из пакета float)
{1\textwidth} % Ширина рисунка
{Сравнение алгоритмов по памяти} % Подпись рисунка

\clearpage


\section*{Вывод}

В данном разделе было произведено сравнение количества затраченного времени и памяти реализаций алгоритмов поиска расстояний Левенштейна и Дамерау---Левенштейна.
Наименее затратной по времени оказалась итеративная реализация алгоритма нахождения расстояния Левенштейна.

По таблице \ref{tbl:time_measurements} видно, что рекурсивная реализация в 72447 раз проигрывает итеративной по времени выполнения при длине строк 10.
Такая огромная разница может быть объяснена тем, что рекурсивная реализация алгоритма вычисляет расстояния для одних и тех же подстрок множество раз, т.~к. не требует дополнительную память для хранения ранее вычисленных значений.
Поэтому рекурсивные реализации следует использовать лишь при малых длинах строк.

При этом как было замечено в пункте \ref{memory}, рекурсивные реализации алгоритмов требуют меньше памяти, чем итеративные.

Рекурсивная реализация алгоритма поиска расстояния Дамерау---Левенштейн будет более затратной по времени, но менее затратной по памяти в сравнении с итеративной реализацией алгоритма поиска расстояния Дамерау---Левенштейна.
При этом рекурсивная с кешированием реализация проигрывает по памяти и по времени итеративной.